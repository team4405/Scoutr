/**
 * angularjs-notify - AngularJS plugin to show notifications. Has a directive for positioning the notifications and works out of the box with Rails
 * @author Cristian StÄƒnescu
 * @version v1.0.0
 * @link https://github.com/cristianstanescu/angularjs-notify
 * @license MIT
 */
angular.module("angularjsNotify",[]).provider("Notify",function(){function e(e){var t=e.contexts,s=e.keysToSkip,n=[];this.displayTime=e.displayTime,this.addMessage=function(e,t){function i(e){return!e||s.indexOf(e.toLowerCase())>-1?"":e.replace("_"," ")+" "}function a(e,s){n.push({context:t||"info",text:_.trim(_.capitalize(i(e)+s))}),n.length>=10&&(n=_.slice(n,0,10))}function o(e){_.each(e,function(e,t,s){if(e instanceof Array)_.each(e,function(e){a(t,e)});else{var n="string"==typeof t?t:null;a(n,e)}})}"string"==typeof e?a(null,e):o(e)},this.getMessages=function(){return n},this.removeFirstMessage=function(){n=_.rest(n)},this.removeMessage=function(e){n=_.without(n,e)},this.removeAllMessages=function(){n=[]},this.lastMessage=function(){return _.last(n)},_.reduce(t,function(e,t){return e[t]=function(e){this.addMessage(e,t)},e},this,this)}var t={contexts:["danger","warning","info","success"],keysToSkip:["base","error"],displayTime:7e3};this.config=t,this.$get=function(){return new e(t)}}).directive("angularjsNotify",["Notify","$templateCache","$timeout",function(e,t,s){function n(t,n,i){function a(t){s(function(){e.removeMessage(t)},o)}var o=e.displayTime;t.$watch(e.getMessages,function(s,n){t.messages=s,s.length>n.length&&a(e.lastMessage())},!0),t.removeNotificationMessage=function(t){e.removeMessage(t)}}return{restrict:"EA",link:n,template:t.get("notifications.html"),scope:{}}}]),angular.module("angularjsNotify").run(["$templateCache",function(e){e.put("notifications.html",'<div class="alert alert-{{ message.context }} alert-dismissible fade in animate-hide" message="message" ng-repeat="message in messages.slice().reverse()"><button type="button" class="close" ng-click="removeNotificationMessage(message)"><span aria-hidden="true">&times;</span> <span class="sr-only">Close</span></button> {{ message.text }}</div>')}]);